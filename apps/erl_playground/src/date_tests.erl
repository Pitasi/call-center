-module(date_tests).

-include_lib("eunit/include/eunit.hrl").

add_days_test_() ->
    Table = [
         {
            {{2020, 01, 01}, {01, 22, 49}},
            1,
            {{2020, 01, 02}, {01, 22, 49}}
         },
         {
            {{2020, 01, 01}, {01, 22, 49}},
            31,
            {{2020, 02, 01}, {01, 22, 49}}
         },
         {
            {{2020, 01, 01}, {01, 22, 49}},
            366, %% 2020 is a leap year
            {{2021, 01, 01}, {01, 22, 49}}
         },
         {
            {{2020, 01, 01}, {01, 22, 49}},
            365 * 50 + 13,  %% 50 years + leap years days
            {{2070, 01, 01}, {01, 22, 49}}
         },
         {
            {{2020, 01, 01}, {01, 22, 49}},
            -1,
            {{2019, 12, 31}, {01, 22, 49}}
         }
    ],
    [?_assertEqual(Expected, date:add_days(Days, Date)) ||
     {Date, Days, Expected} <- Table].
